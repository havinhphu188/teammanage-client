{"version":3,"file":"static/webpack/static\\development\\pages\\create-member.js.02eacc39da344ba4d167.hot-update.js","sources":["webpack:///./pages/create-member.js"],"sourcesContent":["// This is Link API\r\nimport Link from \"next/link\";\r\nimport React from \"react\";\r\nimport Dashboard from \"../components/Dashboard.js\";\r\nimport Button from '@material-ui/core/Button';\r\nimport AddMemberDialog from './../components/AddMemberDialog';\r\nimport axios from \"axios\";\r\n\r\n\r\nclass Member extends React.Component {\r\n  state = {\r\n    open: false,\r\n    members: this.props.members\r\n  };\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  static async getInitialProps() {\r\n    const res = await fetch(\"http://localhost:7900/api/all-member\");\r\n    const data = await res.json();\r\n    return {\r\n      members: data\r\n    };\r\n  }\r\n\r\n  addMember = async function (member_name,member_email){\r\n    await axios.post(\"http://localhost:7900/api/create-member\", {\r\n        member_name: member_name,\r\n        member_email: member_email\r\n      });\r\n    let res = await axios.get(\"http://localhost:7900/api/all-member\");  \r\n    this.setState({\r\n      members: res.data\r\n    }); \r\n    this.handleClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n  <div>\r\n    <Dashboard title=\"Members\">\r\n      <Button variant=\"contained\" color=\"primary\" onClick={this.handleClickOpen} >\r\n        Add Member\r\n      </Button>\r\n      <AddMemberDialog \r\n        handleClose={this.handleClose} \r\n        open={this.state.open} \r\n        addMember={(name,email)=>this.addMember(name, email)}/>\r\n      {\r\n        this.state.members.map(member=>(\r\n          <li key={member.id}>\r\n          {member.member_name}\r\n        </li>\r\n        ))\r\n      }\r\n    </Dashboard>\r\n  </div>);\r\n  }\r\n}\r\n\r\nexport default Member;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAKA;AACA;AACA;AADA;AAGA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAWA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAQA;;;;;;;;;;;;;AAvCA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AAlBA;AACA;AAwDA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}